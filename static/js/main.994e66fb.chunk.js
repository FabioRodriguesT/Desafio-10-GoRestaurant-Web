(this["webpackJsonpgostack-challenge-10"]=this["webpackJsonpgostack-challenge-10"]||[]).push([[0],{46:function(n,e,t){n.exports=t.p+"static/media/logo.633a71f0.svg"},51:function(n,e,t){n.exports=t(87)},87:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(25),c=t.n(o),i=t(26),l=t(1),s=t(49),u=t(13),d=t(3),p=t.n(d),f=t(11),b=t(9),m=t(12),x=t(4),h=t(5);function g(){var n=Object(x.a)(["\n  background: #c72828;\n  padding: 30px 0;\n\n  header {\n    width: 1280px;\n    margin: 0 auto;\n    padding: 0 0 160px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    nav {\n      div {\n        button {\n          font-weight: 600;\n          border-radius: 8px;\n          border: 0;\n          background: #39b100;\n          color: #fff;\n\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n\n          .text {\n            padding: 16px 24px;\n          }\n\n          .icon {\n            display: flex;\n            padding: 16px 16px;\n            background: #41c900;\n            border-radius: 0 8px 8px 0;\n            margin: 0 auto;\n          }\n        }\n      }\n    }\n  }\n"]);return g=function(){return n},n}var v=h.c.div(g()),E=t(46),O=t.n(E),j=function(n){var e=n.openModal;return r.a.createElement(v,null,r.a.createElement("header",null,r.a.createElement("img",{src:O.a,alt:"GoRestaurant"}),r.a.createElement("nav",null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:e},r.a.createElement("div",{className:"text"},"Novo Prato"),r.a.createElement("div",{className:"icon"},r.a.createElement(m.c,{size:24})))))))},k=t(47),y=t.n(k).a.create({baseURL:" http://localhost:3333"});function w(){var n=Object(x.a)(["\n        opacity: 0.3;\n      "]);return w=function(){return n},n}function F(){var n=Object(x.a)(["\n  background: #f0f0f5;\n  border-radius: 8px;\n\n  header {\n    background: #ffb84d;\n    border-radius: 8px 8px 0px 0px;\n    height: 192px;\n    overflow: hidden;\n    transition: 0.3s opacity;\n    text-align: center;\n\n    ",";\n\n    img {\n      pointer-events: none;\n      user-select: none;\n    }\n  }\n\n  section.body {\n    padding: 30px;\n\n    h2 {\n      color: #3d3d4d;\n    }\n\n    p {\n      color: #3d3d4d;\n\n      margin-top: 16px;\n    }\n\n    .price {\n      font-style: normal;\n      font-size: 24px;\n      line-height: 34px;\n      color: #39b100;\n\n      b {\n        font-weight: 600;\n      }\n    }\n  }\n\n  section.footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    padding: 20px 30px;\n    background: #e4e4eb;\n    border-radius: 0px 0px 8px 8px;\n\n    div.icon-container {\n      display: flex;\n\n      button {\n        background: #fff;\n        padding: 10px;\n        border-radius: 8px;\n        display: flex;\n        border: none;\n        transition: 0.1s;\n\n        svg {\n          color: #3d3d4d;\n        }\n\n        & + button {\n          margin-left: 6px;\n        }\n      }\n    }\n\n    div.availability-container {\n      display: flex;\n      align-items: center;\n\n      p {\n        color: #3d3d4d;\n      }\n\n      .switch {\n        position: relative;\n        display: inline-block;\n        width: 88px;\n        height: 32px;\n        margin-left: 12px;\n\n        & input {\n          opacity: 0;\n          width: 0;\n          height: 0;\n        }\n\n        .slider {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: #c72828;\n          -webkit-transition: 0.4s;\n          transition: 0.4s;\n          border-radius: 16px;\n\n          &:before {\n            position: absolute;\n            content: '';\n            height: 20px;\n            width: 40px;\n            left: 8px;\n            bottom: 6px;\n            background-color: white;\n            -webkit-transition: 0.4s;\n            transition: 0.4s;\n            border-radius: 10px;\n          }\n        }\n\n        input:checked + .slider {\n          background-color: #39b100;\n        }\n\n        input:focus + .slider {\n          box-shadow: 0 0 1px #2196f3;\n        }\n\n        input:checked + .slider:before {\n          -webkit-transform: translateX(32px);\n          -ms-transform: translateX(32px);\n          transform: translateX(32px);\n        }\n      }\n    }\n  }\n"]);return F=function(){return n},n}var N=h.c.div(F(),(function(n){return!n.available&&Object(h.b)(w())})),C=function(n){var e=n.food,t=n.handleDelete,o=n.handleEditFood,c=Object(a.useState)(e.available),i=Object(b.a)(c,2),l=i[0],s=i[1];function d(){return(d=Object(f.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.put("/foods/".concat(e.id),Object(u.a)(Object(u.a)({},e),{},{available:!l}));case 3:s(!l),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return r.a.createElement(N,{available:l},r.a.createElement("header",null,r.a.createElement("img",{src:e.image,alt:e.name})),r.a.createElement("section",{className:"body"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,e.description),r.a.createElement("p",{className:"price"},"R$ ",r.a.createElement("b",null,e.price))),r.a.createElement("section",{className:"footer"},r.a.createElement("div",{className:"icon-container"},r.a.createElement("button",{type:"button",className:"icon",onClick:function(){o(e)},"data-testid":"edit-food-".concat(e.id)},r.a.createElement(m.b,{size:20})),r.a.createElement("button",{type:"button",className:"icon",onClick:function(){return t(e.id)},"data-testid":"remove-food-".concat(e.id)},r.a.createElement(m.d,{size:20}))),r.a.createElement("div",{className:"availability-container"},r.a.createElement("p",null,l?"Dispon\xedvel":"Indispon\xedvel"),r.a.createElement("label",{htmlFor:"available-switch-".concat(e.id),className:"switch"},r.a.createElement("input",{id:"available-switch-".concat(e.id),type:"checkbox",checked:l,onChange:function(){return d.apply(this,arguments)},"data-testid":"change-status-food-".concat(e.id)}),r.a.createElement("span",{className:"slider"})))))},z=t(22);function I(){var n=Object(x.a)(["\n  padding: 48px 40px;\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n    margin-bottom: 40px;\n  }\n\n  button {\n    margin-top: 48px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #39b100;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #41c900;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n"]);return I=function(){return n},n}var S=Object(h.c)(z.a)(I()),R=t(48),D=t.n(R),P=function(n){var e=n.children,t=n.isOpen,o=n.setIsOpen,c=Object(a.useState)(t),i=Object(b.a)(c,2),l=i[0],s=i[1];return Object(a.useEffect)((function(){s(t)}),[t]),r.a.createElement(D.a,{shouldCloseOnOverlayClick:!0,onRequestClose:o,isOpen:l,ariaHideApp:!1,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"#F0F0F5",color:"#000000",borderRadius:"8px",width:"736px",border:"none"},overlay:{backgroundColor:"#121214e6"}}},e)},M=t(50),A=t(20);function q(){var n=Object(x.a)(["\n      color: #ff9000;\n    "]);return q=function(){return n},n}function U(){var n=Object(x.a)(["\n      color: #ff9000;\n      border-color: #ff9000;\n    "]);return U=function(){return n},n}function X(){var n=Object(x.a)(["\n  display: flex;\n  align-items: center;\n\n  background: #fff;\n  border-radius: 8px;\n  padding: 18px 24px;\n  width: 100%;\n  font-size: 16px;\n\n  & + div {\n    margin-top: 24px;\n  }\n\n  h1 {\n    margin-bottom: 40px;\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n  }\n\n  ","\n\n  ","\n\n  input {\n    flex: 1;\n    background: transparent;\n    border: 0;\n    color: #b7b7cc;\n\n    &::placeholder {\n      color: #b7b7cc;\n    }\n  }\n\n  svg {\n    margin-right: 16px;\n  }\n"]);return X=function(){return n},n}var B=h.c.div(X(),(function(n){return n.isFocused&&Object(h.b)(U())}),(function(n){return n.isFilled&&Object(h.b)(q())})),G=function(n){var e=n.name,t=n.icon,o=Object(M.a)(n,["name","icon"]),c=Object(a.useRef)(null),i=Object(a.useState)(!1),l=Object(b.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)(!1),p=Object(b.a)(d,2),f=p[0],m=p[1],x=Object(A.c)(e),h=x.fieldName,g=x.defaultValue,v=x.registerField,E=Object(a.useCallback)((function(){u(!0)}),[]),O=Object(a.useCallback)((function(){var n;u(!1),m(!!(null===(n=c.current)||void 0===n?void 0:n.value))}),[]);return Object(a.useEffect)((function(){v({name:h,ref:c.current,path:"value"})}),[h,v]),r.a.createElement(B,{isFilled:f,isFocused:s},t&&r.a.createElement(t,{size:20}),r.a.createElement("input",Object.assign({onFocus:E,onBlur:O,defaultValue:g,ref:c},o)))},J=function(n){var e=n.isOpen,t=n.setIsOpen,o=n.handleAddFood,c=Object(a.useRef)(null),i=Object(a.useCallback)(function(){var n=Object(f.a)(p.a.mark((function n(e){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o(e),t();case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[o,t]);return r.a.createElement(P,{isOpen:e,setIsOpen:t},r.a.createElement(S,{ref:c,onSubmit:i},r.a.createElement("h1",null,"Novo Prato"),r.a.createElement(G,{name:"image",placeholder:"Cole o link aqui"}),r.a.createElement(G,{name:"name",placeholder:"Ex: Moda Italiana"}),r.a.createElement(G,{name:"price",placeholder:"Ex: 19.90"}),r.a.createElement(G,{name:"description",placeholder:"Descri\xe7\xe3o"}),r.a.createElement("button",{type:"submit","data-testid":"add-food-button"},r.a.createElement("p",{className:"text"},"Adicionar Prato"),r.a.createElement("div",{className:"icon"},r.a.createElement(m.a,{size:24})))))};function V(){var n=Object(x.a)(["\n  padding: 48px 40px;\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n    margin-bottom: 40px;\n  }\n\n  button {\n    margin-top: 48px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #39b100;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #41c900;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n"]);return V=function(){return n},n}var H=Object(h.c)(z.a)(V()),L=function(n){var e=n.isOpen,t=n.setIsOpen,o=n.editingFood,c=n.handleUpdateFood,i=Object(a.useRef)(null),l=Object(a.useCallback)(function(){var n=Object(f.a)(p.a.mark((function n(e){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c(e),t();case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[c,t]);return r.a.createElement(P,{isOpen:e,setIsOpen:t},r.a.createElement(H,{ref:i,onSubmit:l,initialData:o},r.a.createElement("h1",null,"Editar Prato"),r.a.createElement(G,{name:"image",placeholder:"Cole o link aqui"}),r.a.createElement(G,{name:"name",placeholder:"Ex: Moda Italiana"}),r.a.createElement(G,{name:"price",placeholder:"Ex: 19.90"}),r.a.createElement(G,{name:"description",placeholder:"Descri\xe7\xe3o"}),r.a.createElement("button",{type:"submit","data-testid":"edit-food-button"},r.a.createElement("div",{className:"text"},"Editar Prato"),r.a.createElement("div",{className:"icon"},r.a.createElement(m.a,{size:24})))))};function W(){var n=Object(x.a)(["\n  width: 100%;\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 40px 0;\n  margin-top: -140px;\n\n  display: grid;\n\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 32px;\n"]);return W=function(){return n},n}var $=h.c.div(W()),K=function(){var n=Object(a.useState)([]),e=Object(b.a)(n,2),t=e[0],o=e[1],c=Object(a.useState)({}),i=Object(b.a)(c,2),l=i[0],d=i[1],m=Object(a.useState)(!1),x=Object(b.a)(m,2),h=x[0],g=x[1],v=Object(a.useState)(!1),E=Object(b.a)(v,2),O=E[0],k=E[1];function w(){return(w=Object(f.a)(p.a.mark((function n(e){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.post("/foods",Object(u.a)(Object(u.a)({},e),{},{available:!0}));case 3:a=n.sent,o([].concat(Object(s.a)(t),[a.data])),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function F(){return(F=Object(f.a)(p.a.mark((function n(e){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.put("/foods/".concat(l.id),Object(u.a)(Object(u.a)({},l),e));case 3:a=n.sent,o(t.map((function(n){return n.id===l.id?Object(u.a)({},a.data):n}))),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function N(n){return z.apply(this,arguments)}function z(){return(z=Object(f.a)(p.a.mark((function n(e){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.delete("/foods/".concat(e));case 3:o(t.filter((function(n){return n.id!==e}))),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}function I(){g(!h)}function S(){k(!O)}function R(n){d(n),S()}return Object(a.useEffect)((function(){function n(){return(n=Object(f.a)(p.a.mark((function n(){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.get("/foods");case 2:e=n.sent,o(e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{openModal:I}),r.a.createElement(J,{isOpen:h,setIsOpen:I,handleAddFood:function(n){return w.apply(this,arguments)}}),r.a.createElement(L,{isOpen:O,setIsOpen:S,editingFood:l,handleUpdateFood:function(n){return F.apply(this,arguments)}}),r.a.createElement($,{"data-testid":"foods-list"},t&&t.map((function(n){return r.a.createElement(C,{key:n.id,food:n,handleDelete:N,handleEditFood:R})}))))},Q=function(){return r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/Desafio-10-GoRestaurant-Web/",exact:!0,component:K}))};function T(){var n=Object(x.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n  }\n\n  body {\n    background: #fff;\n    color: #FFF;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input, button {\n    font-family: 'Poppins', sans-serif;\n    font-size: 16px;\n  }\n\n  h1, h2, h3, h4, h5, h6, strong {\n    font-weight: 500;\n  }\n\n  button {\n    cursor: pointer;\n  }\n"]);return T=function(){return n},n}var Y=Object(h.a)(T()),Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement(i.a,null,r.a.createElement(Q,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.994e66fb.chunk.js.map